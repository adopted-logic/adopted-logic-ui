{"version":3,"sources":["../src/utils/cn.ts","../src/forms/v1/core/FieldError.tsx","../src/forms/v1/core/Form.tsx","../src/forms/v1/Form.tsx","../src/forms/v1/useFormCtx.ts","../src/forms/v1/FieldError.tsx","../src/forms/v1/core/FieldHint.tsx","../src/forms/v1/FieldHint.tsx","../src/forms/v1/core/FieldWrapper.tsx","../src/forms/v1/FieldWrapper.tsx","../src/forms/v1/core/FormControl.tsx","../src/forms/v1/formControlContext.tsx","../src/forms/v1/FormControl.tsx","../src/forms/v1/core/FormLabel.tsx","../src/forms/v1/FormLabel.tsx","../src/forms/v1/core/TextInput.tsx","../src/forms/v1/TextInput.tsx","../src/forms/v1/types.ts"],"names":["jsx","Form","FieldError","FieldHint","FieldWrapper","createContext","useContext","FormControl","FormLabel","TextInput"],"mappings":"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","file":"index.js","sourcesContent":["import { clsx, type ClassValue } from \"clsx\"\r\nimport { twMerge } from \"tailwind-merge\"\r\n\r\nexport function cn(...inputs: ClassValue[]) {\r\n  return twMerge(clsx(inputs))\r\n}\r\n","/**\n * FieldError (core) - stub\n */\nimport React from \"react\";\nimport { cn } from \"../../../utils/cn\";\n\nexport function FieldError({ show, className = \"\", children, ...rest }: any) {\n  if (!show && !children) return null;\n  return (\n    <div className={cn(className)} {...rest}>\n      {children}\n    </div>\n  );\n}\n","/**\n * Form (core)\n * - Owns the <form> element.\n * - Handles submit for:\n *   - uncontrolled: builds payload from FormData(form)\n *   - managed/controlled: submits ctx.data\n */\n\nimport React, { useRef } from \"react\";\nimport { cn } from \"../../../utils/cn\";\nimport { useFormCtx } from \"../useFormCtx\";\n\nexport function Form({\n  className = \"\",\n  children,\n  onSubmit,\n  onSubmitError,\n  ...rest\n}: any) {\n  const formRef = useRef<HTMLFormElement | null>(null);\n  const ctx: any = useFormCtx();\n\n  async function handleSubmit(e: any) {\n    e.preventDefault();\n\n    try {\n      if (ctx?.mode === \"uncontrolled\") {\n        const formEl = formRef.current;\n        if (!formEl) return;\n\n        const fd = new FormData(formEl);\n        const payload: any = {};\n\n        for (const [key, value] of fd.entries()) {\n          // v1: last value wins\n          payload[key] = value;\n        }\n\n        return await onSubmit?.(payload, e);\n      }\n\n      return await onSubmit?.(ctx?.data, e);\n    } catch (err) {\n      return await onSubmitError?.(err, e);\n    }\n  }\n\n  return (\n    <form\n      ref={formRef}\n      className={cn(ctx?.theme?.form ?? \"\", className)}\n      onSubmit={handleSubmit}\n      {...rest}\n    >\n      {children}\n    </form>\n  );\n}\n","/**\n * Form (stateful wrapper/provider)\n * - Provides a single place to interpret mode + state strategy.\n * - Inputs call ctx.handleInputChange; submit handled by core/Form.\n */\n\nimport { useEffect, useMemo, useState, createContext } from \"react\";\nimport { Form as CoreForm } from \"./core/Form\";\nimport type { FormProps, FormStateStrategy, FormValueType, FormTheme } from \"./types\";\n\nexport const FormContext = createContext<any>({});\n\nconst defaultTheme: FormTheme = {\n  form: \"\",\n  formControl: \"space-y-2\",\n  label: \"block text-sm font-medium\",\n  fieldWrapper: \"rounded-md border border-neutral-300 bg-white px-2 py-1\",\n  input: \"w-full bg-transparent outline-none text-sm py-1\",\n  hint: \"text-xs text-neutral-500\",\n  error: \"text-xs text-red-600\",\n};\n\nexport function Form({\n  mode = \"managed\",\n  data,\n  update,\n  onSubmit,\n  onSubmitError,\n  className = \"\",\n  config,\n  children,\n  ...rest\n}: FormProps) {\n  // Most of your forms are object-shaped; keep merges safe.\n  const [formData, setFormData] = useState<any>(() => data ?? {});\n\n  const strategy: FormStateStrategy = config?.state?.strategy ?? \"react\";\n  const valueType: FormValueType | undefined = config?.state?.valueType;\n\n  // Inference: assume object unless explicitly primitive\n  const isObjectData = valueType === \"primitive\" ? false : true;\n\n  const theme = useMemo(() => {\n    return { ...defaultTheme, ...(config?.theme ?? {}) };\n  }, [config?.theme]);\n\n  function handleInputChange(e: any) {\n    if (mode === \"uncontrolled\") return;\n\n    const target = e?.target;\n    const name = target?.name;\n    const value = target?.type === \"checkbox\" ? target?.checked : target?.value;\n\n    if (isObjectData && !name) return;\n\n    const currentData = mode === \"controlled\" ? data : formData;\n    const nextData = isObjectData ? { ...(currentData ?? {}), [name]: value } : value;\n\n    if (mode === \"controlled\") {\n      if (!update) return;\n\n      if (strategy === \"event\") return update(e);\n      if (strategy === \"field\") return update(name, value, e);\n      if (strategy === \"replace\") return update(nextData);\n\n      // strategy === \"react\"\n      if (isObjectData) return update((prev: any) => ({ ...(prev ?? {}), [name]: value }));\n      return update(value);\n    }\n\n    // managed mode: internal state updates\n    if (isObjectData) {\n      setFormData((prev: any) => ({ ...(prev ?? {}), [name]: value }));\n    } else {\n      setFormData(value);\n    }\n  }\n\n  function handleInputBlur(_e: any) {}\n  function handleInputFocus(_e: any) {}\n  async function formError() {}\n\n  useEffect(() => {\n    if (mode === \"managed\") {\n      setFormData(data ?? (isObjectData ? {} : undefined));\n    }\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, [mode, data]);\n\n  return (\n    <FormContext.Provider\n      value={{\n        mode,\n        data: mode === \"controlled\" ? data : formData,\n        update: mode === \"controlled\" ? update : setFormData,\n        formError,\n        handleInputChange,\n        handleInputBlur,\n        handleInputFocus,\n        config,\n        theme,\n      }}\n    >\n      <CoreForm\n        onSubmit={onSubmit}\n        onSubmitError={onSubmitError}\n        className={className}\n        {...rest}\n      >\n        {children}\n      </CoreForm>\n    </FormContext.Provider>\n  );\n}\n","import { useContext } from \"react\";\nimport { FormContext } from \"./Form\";\n\nexport function useFormCtx(): any {\n  return useContext(FormContext);\n}\n","/**\n * FieldError (stateful) - stub\n */\nimport React from \"react\";\nimport { FieldError as CoreFieldError } from \"./core/FieldError\";\nimport { useFormCtx } from \"./useFormCtx\";\nimport type { FieldErrorProps } from \"./types\";\n\nexport function FieldError({ className = \"\", children, ...rest }: FieldErrorProps) {\n  const ctx: any = useFormCtx();\n  return (\n    <CoreFieldError\n      className={[ctx?.theme?.error ?? \"\", className].filter(Boolean).join(\" \")}\n      {...rest}\n    >\n      {children}\n    </CoreFieldError>\n  );\n}\n","/**\n * FieldHint (core) - stub\n */\nimport React from \"react\";\nimport { cn } from \"../../../utils/cn\";\n\nexport function FieldHint({ show, className = \"\", children, ...rest }: any) {\n  if (!show && !children) return null;\n  return (\n    <div className={cn(className)} {...rest}>\n      {children}\n    </div>\n  );\n}\n","/**\n * FieldHint (stateful) - stub\n */\nimport React from \"react\";\nimport { FieldHint as CoreFieldHint } from \"./core/FieldHint\";\nimport { useFormCtx } from \"./useFormCtx\";\nimport type { FieldHintProps } from \"./types\";\n\nexport function FieldHint({ className = \"\", children, ...rest }: FieldHintProps) {\n  const ctx: any = useFormCtx();\n  return (\n    <CoreFieldHint\n      className={[ctx?.theme?.hint ?? \"\", className].filter(Boolean).join(\" \")}\n      {...rest}\n    >\n      {children}\n    </CoreFieldHint>\n  );\n}\n","/**\n * FieldWrapper (core)\n * - Provides the bordered container around an input.\n * - Later you can add slots for addons, icons, inline buttons, etc.\n */\nimport React from \"react\";\nimport { cn } from \"../../../utils/cn\";\n\nexport function FieldWrapper({ className = \"\", children, ...rest }: any) {\n  return (\n    <div className={cn(className)} {...rest}>\n      {children}\n    </div>\n  );\n}\n","/**\n * FieldWrapper (stateful)\n * - Applies theme defaults.\n */\nimport React from \"react\";\nimport { FieldWrapper as CoreFieldWrapper } from \"./core/FieldWrapper\";\nimport { useFormCtx } from \"./useFormCtx\";\nimport type { FieldWrapperProps } from \"./types\";\n\nexport function FieldWrapper({ className = \"\", children, ...rest }: FieldWrapperProps) {\n  const ctx: any = useFormCtx();\n\n  return (\n    <CoreFieldWrapper\n      className={[ctx?.theme?.fieldWrapper ?? \"\", className].filter(Boolean).join(\" \")}\n      {...rest}\n    >\n      {children}\n    </CoreFieldWrapper>\n  );\n}\n","/**\n * FormControl (core)\n * - Simple block-level wrapper. Theme applied by stateful wrapper.\n */\nimport React from \"react\";\nimport { cn } from \"../../../utils/cn\";\n\nexport function FormControl({ className = \"\", children, ...rest }: any) {\n  return (\n    <div className={cn(className)} {...rest}>\n      {children}\n    </div>\n  );\n}\n","import { createContext, useContext } from \"react\";\n\nexport type FormControlContextValue = {\n  name?: string;\n};\n\nexport const FormControlContext = createContext<FormControlContextValue>({});\n\nexport function useFormControl() {\n  return useContext(FormControlContext);\n}\n","/**\n * FormControl (stateful)\n * - Provides a field name to all descendants via FormControlContext.\n * - Applies theme defaults.\n */\nimport React from \"react\";\nimport { FormControl as CoreFormControl } from \"./core/FormControl\";\nimport { FormControlContext } from \"./formControlContext\";\nimport { useFormCtx } from \"./useFormCtx\";\nimport type { FormControlProps } from \"./types\";\n\nexport function FormControl({ name, className = \"\", children, ...rest }: FormControlProps) {\n  const ctx: any = useFormCtx();\n\n  return (\n    <FormControlContext.Provider value={{ name }}>\n      <CoreFormControl\n        className={[ctx?.theme?.formControl ?? \"\", className].filter(Boolean).join(\" \")}\n        {...rest}\n      >\n        {children}\n      </CoreFormControl>\n    </FormControlContext.Provider>\n  );\n}\n","/**\n * FormLabel (core)\n * - Renders even with no children (spacing preserved).\n */\nimport React from \"react\";\nimport { cn } from \"../../../utils/cn\";\n\nexport function FormLabel({\n  htmlFor,\n  required,\n  className = \"\",\n  children,\n  ...rest\n}: any) {\n  return (\n    <label htmlFor={htmlFor} className={cn(className)} {...rest}>\n      <span className=\"inline-flex items-center gap-1\">\n        {children ?? null}\n        {required ? <span aria-hidden=\"true\">*</span> : null}\n      </span>\n    </label>\n  );\n}\n","/**\n * FormLabel (stateful)\n * - Defaults htmlFor from FormControlContext.name if not provided.\n * - Applies theme defaults.\n */\nimport React from \"react\";\nimport { FormLabel as CoreFormLabel } from \"./core/FormLabel\";\nimport { useFormControl } from \"./formControlContext\";\nimport { useFormCtx } from \"./useFormCtx\";\nimport type { FormLabelProps } from \"./types\";\n\nexport function FormLabel({ htmlFor, className = \"\", children, ...rest }: FormLabelProps) {\n  const { name } = useFormControl();\n  const ctx: any = useFormCtx();\n\n  return (\n    <CoreFormLabel\n      htmlFor={htmlFor ?? name}\n      className={[ctx?.theme?.label ?? \"\", className].filter(Boolean).join(\" \")}\n      {...rest}\n    >\n      {children}\n    </CoreFormLabel>\n  );\n}\n","/**\n * TextInput (core)\n * - Just the input element.\n */\nimport React from \"react\";\nimport { cn } from \"../../../utils/cn\";\n\nexport function TextInput({ className = \"\", ...rest }: any) {\n  return <input className={cn(className)} {...rest} />;\n}\n","/**\n * TextInput (stateful)\n * - Wraps itself in FieldWrapper\n * - If name not provided, uses FormControlContext.name\n * - Respects:\n *   - form mode (controlled/managed/uncontrolled)\n *   - per-field defaultValue forces uncontrolled input\n */\nimport React from \"react\";\nimport { TextInput as CoreTextInput } from \"./core/TextInput\";\nimport { FieldWrapper } from \"./FieldWrapper\";\nimport { useFormControl } from \"./formControlContext\";\nimport { useFormCtx } from \"./useFormCtx\";\nimport type { TextInputProps } from \"./types\";\n\nexport function TextInput({\n  name,\n  defaultValue,\n  className = \"\",\n  inputClassName = \"\",\n  ...rest\n}: TextInputProps) {\n  const control = useFormControl();\n  const ctx: any = useFormCtx();\n\n  const effectiveName = name ?? control?.name;\n\n  // Field-level uncontrolled override:\n  const isUncontrolledField = ctx?.mode === \"uncontrolled\" || defaultValue !== undefined;\n\n  const value = effectiveName ? ctx?.data?.[effectiveName] : undefined;\n\n  return (\n    <FieldWrapper className={className}>\n      <CoreTextInput\n        name={effectiveName}\n        className={[ctx?.theme?.input ?? \"\", inputClassName].filter(Boolean).join(\" \")}\n        {...(isUncontrolledField\n          ? { defaultValue }\n          : { value: value ?? \"\" })}\n        onChange={(e: any) => {\n          rest?.onChange?.(e);\n          ctx?.handleInputChange?.(e);\n        }}\n        onBlur={(e: any) => {\n          rest?.onBlur?.(e);\n          ctx?.handleInputBlur?.(e);\n        }}\n        onFocus={(e: any) => {\n          rest?.onFocus?.(e);\n          ctx?.handleInputFocus?.(e);\n        }}\n        {...rest}\n      />\n    </FieldWrapper>\n  );\n}\n","/**\r\n * Forms (v1) - minimal, pragmatic typings.\r\n * - Designed for Gary's internal use (flexible, readable, not \"type wizardry\").\r\n */\r\n\r\nexport type FormMode = \"controlled\" | \"managed\" | \"uncontrolled\";\r\nexport type FormStateStrategy = \"react\" | \"replace\" | \"field\" | \"event\";\r\nexport type FormValueType = \"object\" | \"primitive\";\r\n\r\nexport interface FormConfig {\r\n  state?: {\r\n    strategy?: FormStateStrategy; // default: \"react\"\r\n    valueType?: FormValueType;    // default: inferred (assume object)\r\n  };\r\n  theme?: Partial<FormTheme>;\r\n}\r\n\r\n/**\r\n * Tailwind class theme hooks (keep it shallow to avoid Theme Hell).\r\n * You can expand this later (e.g., { base, variants }) if needed.\r\n */\r\nexport interface FormTheme {\r\n  form: string;\r\n  formControl: string;\r\n  label: string;\r\n  fieldWrapper: string;\r\n  input: string;\r\n  hint: string;\r\n  error: string;\r\n}\r\n\r\nexport interface FormProps {\r\n  id?: string;\r\n  mode?: FormMode; // default: \"managed\"\r\n  data?: any;      // controlled: current data; managed: initialData (optional)\r\n  update?: any;    // controlled updater; signature depends on strategy\r\n  onSubmit?: any;\r\n  onSubmitError?: any;\r\n  className?: string;\r\n  config?: FormConfig;\r\n  children: any;\r\n  [key: string]: any;\r\n}\r\n\r\nexport interface FormControlProps {\r\n  name?: string; // provides name to descendants via context\r\n  className?: string;\r\n  children: any;\r\n  [key: string]: any;\r\n}\r\n\r\nexport interface FormLabelProps {\r\n  htmlFor?: string;\r\n  required?: boolean;\r\n  className?: string;\r\n  children?: any; // renders even when undefined (spacing preserved)\r\n  [key: string]: any;\r\n}\r\n\r\nexport interface FieldWrapperProps {\r\n  className?: string;\r\n  children: any;\r\n  [key: string]: any;\r\n}\r\n\r\nexport interface TextInputProps {\r\n  name?: string;         // optional; falls back to FormControlContext.name\r\n  defaultValue?: any;    // when provided, forces uncontrolled field behavior\r\n  className?: string;\r\n  inputClassName?: string; // applied to <input>\r\n  [key: string]: any;    // type, placeholder, etc.\r\n}\r\n\r\nexport interface FieldHintProps {\r\n  show?: boolean;\r\n  className?: string;\r\n  children?: any;\r\n  [key: string]: any;\r\n}\r\n\r\nexport interface FieldErrorProps {\r\n  show?: boolean;\r\n  className?: string;\r\n  children?: any;\r\n  [key: string]: any;\r\n}\r\n"]}